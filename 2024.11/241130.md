&emsp;ì•„ë˜ ì½”ë“œëŠ” í˜„ì¬ íŒ€í”„ë¡œì íŠ¸ì—ì„œ ì‘ì—…í•˜ê³  ìˆëŠ” ì±„íŒ…í™”ë©´ ì½”ë“œì´ë‹¤.

---

```python
from dotenv import load_dotenv
import os
import openai
import streamlit as st
import copy
from datetime import datetime

# .env íŒŒì¼ì—ì„œ í™˜ê²½ ë³€ìˆ˜ ë¡œë“œ
load_dotenv()
OPENAI_API_KEY = os.getenv("OPENAI_API_KEY")

# OpenAI API í‚¤ ì„¤ì •
openai.api_key = OPENAI_API_KEY

# ì´ë¯¸ì§€ íŒŒì¼ ê²½ë¡œ
image_path = "img/image.png"

# Streamlit ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ì„±
def main():
    # Streamlit ì„¤ì •
    st.set_page_config(
        page_title="JobGPT - AI ì»¤ë¦¬ì–´ ë„ìš°ë¯¸",  # ë¸Œë¼ìš°ì € íƒ­ ì œëª© ì„¤ì •
        page_icon=image_path,  # í˜ì´ì§€ ì•„ì´ì½˜ ì„¤ì •
        layout="centered",  # í˜ì´ì§€ ë ˆì´ì•„ì›ƒ ì„¤ì •
        initial_sidebar_state="expanded"  # ì‚¬ì´ë“œë°” ì´ˆê¸° ìƒíƒœ ì„¤ì • (í™•ì¥ëœ ìƒíƒœ)
    )

    # ë©”ì¸ í™”ë©´ ë¡œê³  ì´ë¯¸ì§€
    if os.path.exists(image_path):  # ì´ë¯¸ì§€ íŒŒì¼ì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸
        st.image(image_path, use_column_width=False, caption="ë‹¹ì‹ ì˜ AI ì»¤ë¦¬ì–´ ë„ìš°ë¯¸")  # ì´ë¯¸ì§€ í‘œì‹œ
    else:
        st.error("ì´ë¯¸ì§€ íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. '{}' ê²½ë¡œë¥¼ í™•ì¸í•˜ì„¸ìš”.".format(image_path))  # ì´ë¯¸ì§€ê°€ ì—†ì„ ê²½ìš° ì˜¤ë¥˜ í‘œì‹œ

    # ë©”ì¸ í™”ë©´ ì œëª©
    st.title("JobGPTì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤.")  # íƒ€ì´í‹€ ì„¤ì •
    st.markdown("""
    JobGPTëŠ” ì·¨ì—…ê³¼ ê²½ë ¥ ê°œë°œì„ ì§€ì›í•˜ëŠ” AI ê¸°ë°˜ ì±—ë´‡ì…ë‹ˆë‹¤.  
    ì•„ë˜ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ì§ˆë¬¸ì„ ì…ë ¥í•´ ë³´ì„¸ìš”!
    """)  # ì„¤ëª… í…ìŠ¤íŠ¸

    # ì´ˆê¸° ì„¸ì…˜ ìƒíƒœ ì„¤ì •
    if "messages" not in st.session_state:  # ì„¸ì…˜ ìƒíƒœì— messagesê°€ ì—†ì„ ê²½ìš° ì´ˆê¸°í™”
        st.session_state["messages"] = []
    if "saved_sessions" not in st.session_state:  # ì„¸ì…˜ ìƒíƒœì— saved_sessionsê°€ ì—†ì„ ê²½ìš° ì´ˆê¸°í™”
        st.session_state["saved_sessions"] = []

    # ì‚¬ì´ë“œë°”: ì´ì „ ì±„íŒ… ì„¸ì…˜ì„ ë¶ˆëŸ¬ì˜¤ê¸° ìœ„í•œ ì¸í„°í˜ì´ìŠ¤
    with st.sidebar:
        st.header("JobGPT ë©”ë‰´")

        # ì´ì „ ì„¸ì…˜ ë¶ˆëŸ¬ì˜¤ê¸°
        saved_sessions = st.session_state["saved_sessions"]
        if saved_sessions:
            selected_session = st.selectbox("ì´ì „ ì±„íŒ… ì„¸ì…˜ ë¶ˆëŸ¬ì˜¤ê¸°", options=list(range(len(saved_sessions))), format_func=lambda x: f"ì±„íŒ… ê¸°ë¡ {x + 1}")
            if st.button("ì„ íƒëœ ì„¸ì…˜ ë¶ˆëŸ¬ì˜¤ê¸°"):
                # ì„ íƒëœ ì„¸ì…˜ ë¶ˆëŸ¬ì˜¤ê¸°
                st.session_state["messages"] = saved_sessions[selected_session]

        st.markdown("---")
        st.markdown("ğŸ“© **Contact us:** wriml92@knou.ac.kr")  # ì—°ë½ ì •ë³´ í‘œì‹œ

    # ì‚¬ìš©ì ì…ë ¥ ì„¹ì…˜
    user_input = st.text_input("ë©”ì„¸ì§€ë¥¼ ì…ë ¥í•´ ì£¼ì‹­ì‹œì˜¤.", key="user_input")  # ì‚¬ìš©ì ë©”ì‹œì§€ ì…ë ¥ë€
    send_button = st.button("Send")  # ì „ì†¡ ë²„íŠ¼

    # ë©”ì‹œì§€ ì²˜ë¦¬
    if send_button and user_input:
        # ì‚¬ìš©ì ë©”ì‹œì§€ë¥¼ ì„¸ì…˜ ìƒíƒœì— ì¶”ê°€
        st.session_state["messages"].append({"role": "user", "content": user_input})

        # OpenAI GPT-4o ëª¨ë¸ì— ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê¸°
        bot_response = get_openai_response(user_input)

        # JobGPT ì‘ë‹µì„ ì„¸ì…˜ ìƒíƒœì— ì¶”ê°€
        st.session_state["messages"].append({"role": "assistant", "content": bot_response})

    # í˜„ì¬ ëŒ€í™”ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•œ ë²„íŠ¼
    if st.button("í˜„ì¬ ëŒ€í™” ì €ì¥"):
        # ì„¸ì…˜ ì €ì¥
        st.session_state["saved_sessions"].append(copy.deepcopy(st.session_state["messages"]))
        st.success("í˜„ì¬ ëŒ€í™”ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!")

        # ëŒ€í™” ë‚´ìš©ì„ í…ìŠ¤íŠ¸ íŒŒì¼ë¡œ ì €ì¥
        save_chat_to_file(st.session_state["messages"])

    # ì‚¬ìš©ìì™€ JobGPT ë©”ì‹œì§€ ìŠ¤íƒ€ì¼ (HTML í˜•ì‹ìœ¼ë¡œ ë©”ì‹œì§€ë¥¼ ìŠ¤íƒ€ì¼ë§í•˜ì—¬ ì¶œë ¥)
    user_message = """
    <div style="
    background-color: #26a6f0;
    color: white;
    padding: 10px;
    border-radius: 10px;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    justify-content: flex-end;
    max-width: 60%;
    margin-left: auto;
    ">
        <img src="image.png" style="border-radius: 50%; margin-left: 10px;" alt="User Avatar">
        {message}
    </div>
    """
    assistant_message = """
    <div style="
    background-color: #f1f1f1;
    color: black;
    padding: 10px;
    border-radius: 10px;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    width: 60%;
    margin-right: auto;
    ">
        <img src="image.png" style="border-radius: 50%; margin-right: 10px;" alt="Bot Avatar">
        {message}
    </div>
    """

    # ì±„íŒ… ì¸í„°í˜ì´ìŠ¤: ì„¸ì…˜ ìƒíƒœì— ì €ì¥ëœ ë©”ì‹œì§€ë¥¼ ë°˜ë³µí•˜ì—¬ ì¶œë ¥
    for msg in st.session_state["messages"]:
        if msg["role"] == "user":
            st.markdown(user_message.format(message=msg["content"]), unsafe_allow_html=True)
        else:
            st.markdown(assistant_message.format(message=msg["content"]), unsafe_allow_html=True)

# OpenAI GPT-4o APIë¥¼ í˜¸ì¶œí•˜ì—¬ ì‚¬ìš©ìì˜ ì§ˆë¬¸ì— ëŒ€í•œ ì‘ë‹µì„ ìƒì„±í•˜ëŠ” í•¨ìˆ˜
def get_openai_response(user_input):
    try:
        messages = [{"role": "system", "content": "You are a helpful assistant specialized in job searching and career advice."}]
        messages += st.session_state["messages"]

        # OpenAI API í˜¸ì¶œ
        response = openai.ChatCompletion.create(
            model="gpt-4o",  # GPT-4o ëª¨ë¸ ì‚¬ìš©
            messages=messages,  # ë©”ì‹œì§€ë“¤ ì „ë‹¬
            max_tokens=300,  # ì‘ë‹µì˜ ìµœëŒ€ í† í° ìˆ˜ ì„¤ì •
            temperature=0.7  # ì‘ë‹µì˜ ë‹¤ì–‘ì„± ì¡°ì ˆ
        )
        return response["choices"][0]["message"]["content"].strip()  # ì‘ë‹µ ë‚´ìš© ë°˜í™˜
    except openai.error.OpenAIError as e:
        return f"OpenAI APIì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: {str(e)}"
    except Exception as e:
        return "ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì¸í„°ë„· ì—°ê²°ì„ í™•ì¸í•˜ê³  ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”."

# ëŒ€í™” ë‚´ìš©ì„ íŒŒì¼ë¡œ ì €ì¥í•˜ëŠ” í•¨ìˆ˜
def save_chat_to_file(messages):
    try:
        # íŒŒì¼ëª…ì— ì €ì¥ ì‹œê°„ì„ ì¶”ê°€í•˜ì—¬ ê³ ìœ í•˜ê²Œ ë§Œë“¦
        timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
        filename = f"chat_history_{timestamp}.txt"

        # ë©”ì‹œì§€ë“¤ì„ íŒŒì¼ì— ì €ì¥
        with open(filename, "w", encoding="utf-8") as file:
            for msg in messages:
                role = "User" if msg["role"] == "user" else "Assistant"
                content = msg["content"]
                file.write(f"{role}: {content}\n")

        st.success(f"ì±„íŒ… ë‚´ìš©ì´ {filename}ì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.")
    except Exception as e:
        st.error(f"ì±„íŒ… ë‚´ìš©ì„ ì €ì¥í•˜ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: {str(e)}")

# Streamlit ì•± ì‹¤í–‰
if __name__ == "__main__":
    main()

```

---

## ì£¼ìš” ë¶€ë¶„ ì„¤ëª…
1. **í™˜ê²½ ì„¤ì • ë° API í‚¤ ë¡œë“œ**:
- `dotenv`ë¥¼ ì´ìš©í•´ `.env` íŒŒì¼ì—ì„œ OpenAI API í‚¤ë¥¼ ë¡œë“œí•˜ê³ , `openai.api_key`ì— ì„¤ì •í•œë‹¤.

2. **Streamlit ì„¤ì • ë° ë ˆì´ì•„ì›ƒ**:
- `st.set_page_config()`ë¡œ í˜ì´ì§€ì˜ ë ˆì´ì•„ì›ƒ, ì•„ì´ì½˜, ì œëª© ë“±ì„ ì„¤ì •í•œë‹¤.

3. **ì´ë¯¸ì§€ ë° ë©”ì¸ í™”ë©´ êµ¬ì„±**:
- ì´ë¯¸ì§€ íŒŒì¼ì´ ì¡´ì¬í•˜ë©´ `st.image()`ë¡œ í™”ë©´ì— í‘œì‹œí•œë‹¤. ë©”ì¸ íƒ€ì´í‹€ê³¼ ì„¤ëª… í…ìŠ¤íŠ¸ë„ ì„¤ì •í•œë‹¤.

4. **ì„¸ì…˜ ìƒíƒœ ê´€ë¦¬**:
- `st.session_state`ë¥¼ ì´ìš©í•´ ì´ì „ ë©”ì‹œì§€ì™€ ì €ì¥ëœ ì„¸ì…˜ì„ ê´€ë¦¬í•œë‹¤.

5. **ì‚¬ì´ë“œë°” êµ¬í˜„**:
- ì´ì „ì— ì €ì¥ëœ ëŒ€í™” ì„¸ì…˜ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆë„ë¡ ì‚¬ì´ë“œë°”ì—ì„œ ì˜µì…˜ì„ ì œê³µí•œë‹¤.

6. **ë©”ì‹œì§€ ì…ë ¥ ë° ì²˜ë¦¬**:
- ì‚¬ìš©ìì˜ ë©”ì‹œì§€ë¥¼ ì…ë ¥ ë°›ê³ , ë²„íŠ¼ í´ë¦­ ì‹œ ì´ë¥¼ ì €ì¥í•˜ê³  OpenAI APIë¡œ ë³´ë‚´ì„œ ì‘ë‹µì„ ë°›ëŠ”ë‹¤.

7. **ëŒ€í™” ì €ì¥ ê¸°ëŠ¥**:
- ë²„íŠ¼ í´ë¦­ìœ¼ë¡œ í˜„ì¬ ëŒ€í™” ë‚´ìš©ì„ ì €ì¥í•  ìˆ˜ ìˆë‹¤. í…ìŠ¤íŠ¸ íŒŒì¼ë¡œë„ ì €ì¥í•œë‹¤.

8. **HTMLì„ ì‚¬ìš©í•œ ì±„íŒ… ì¸í„°í˜ì´ìŠ¤**:
- ì‚¬ìš©ìì™€ ë´‡ì˜ ë©”ì‹œì§€ë¥¼ HTMLê³¼ CSSë¡œ ìŠ¤íƒ€ì¼ë§í•˜ì—¬ ì‚¬ìš©ì ì¹œí™”ì ì¸ UIë¥¼ ì œê³µí•œë‹¤.

9. **OpenAI API í˜¸ì¶œ í•¨ìˆ˜**:
- ì‚¬ìš©ìì˜ ë©”ì‹œì§€ì™€ ì´ì „ ë©”ì‹œì§€ë“¤ì„ GPT-4 ëª¨ë¸ë¡œ ë³´ë‚´ê³  ì‘ë‹µì„ ë°›ì•„ì˜¨ë‹¤.

10. **ëŒ€í™” ë‚´ìš©ì„ íŒŒì¼ë¡œ ì €ì¥**:
- í˜„ì¬ ëŒ€í™” ë‚´ìš©ì„ íŒŒì¼ë¡œ ì €ì¥í•˜ëŠ” ê¸°ëŠ¥ì´ í¬í•¨ë˜ì–´ ìˆë‹¤. íŒŒì¼ëª…ì— íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ ì¶”ê°€í•˜ì—¬ ê³ ìœ í•˜ê²Œ ë§Œë“ ë‹¤.