**TIL (Today I Learned): HTTP 메서드 중 POST, PUT, PATCH**

---

## 1. 개요
- **POST**: 리소스를 **생성**(혹은 처리)하기 위한 주 사용 메서드  
- **PUT**: 리소스의 **전체 교체**(전체 업데이트)에 주로 사용  
- **PATCH**: 리소스의 **부분 업데이트**(부분 수정)에 사용  
- 전통적인 REST API 설계에서, 이 세 메서드는 **데이터 생성/수정**을 담당한다는 공통점이 있지만, 역할 구분이 명확하다

---

## 2. POST

1. **주 목적**  
   - **새로운 리소스** 생성  
   - 서버에 **데이터 전송** → 서버 측에서 해당 데이터를 기초로 리소스(또는 작업) 수행
2. **특징**  
   - **Idempotent**하지 않음 (동일 POST를 여러 번 보내면, 중복 생성될 수도 있음)  
   - 보통 리소스 경로가 `collection`(예: `/users`)일 때, **새 사용자**를 생성하는 식으로 사용
3. **예시**  
   - `POST /users` → 새로운 사용자 등록  
   - `POST /orders` → 새로운 주문 생성  

---

## 3. PUT

1. **주 목적**  
   - **이미 존재**하는 리소스를 **전체 교체**(replace)할 때  
   - 클라이언트 측에서 리소스의 **전체 상태**를 바꿔 서버에 전달
2. **특징**  
   - **Idempotent**: 같은 PUT 요청을 여러 번 보냈을 때, 결과가 동일해야 함  
   - 보통 URL이 `/resource/{id}` 형태로 특정 리소스를 가리킬 때 사용  
   - 만약 리소스가 **존재하지 않으면** 새로 생성하거나 **에러** 처리할 수도 있음(구현자에 따라 달라짐)
3. **예시**  
   - `PUT /users/123` → 사용자 123의 모든 필드 업데이트 (기존 데이터 전체 변경)  
   - 클라이언트는 전체 필드(예: name, email, address 등)를 모두 담아 전송

---

## 4. PATCH

1. **주 목적**  
   - **부분 업데이트**: 리소스의 일부 속성만 변경할 때 사용  
   - 작은 변경(“이름만 바꿀게요”, “주소만 고칠게요”)에 유리
2. **특징**  
   - **Non-idempotent**일 수 있음. 부분 업데이트의 데이터 포맷에 따라 다르지만, 일반적으로 같은 PATCH를 여러 번 보내면 누적 효과가 생길 수 있음  
   - Request Body에는 변경할 **필드**와 **새 값** 만 넣어도 됨
3. **예시**  
   - `PATCH /users/123` → 사용자 123의 일부 필드만 수정, 예: `{ "name": "Alice" }`  
   - vs. `PUT /users/123`는 name, email, address 등 **전체** 필드가 다시 전송됨

---

## 5. 사용 예시 정리

- **POST**:  
  - `POST /articles` → 새로운 게시글 작성  
  - 보통 서버가 새 객체의 고유 ID를 발급하여 응답

- **PUT**:  
  - `PUT /articles/10` → 게시글 10번을 **전체 내용**으로 교체  
  - 누락된 필드는 기본값으로 덮어씌워지거나 삭제될 수 있음

- **PATCH**:  
  - `PATCH /articles/10` → 게시글 10번의 **일부** 수정. 예: `{ "title": "새로운 제목" }`  
  - 나머지 필드는 변경 없이 유지

---

## 6. 오늘 배운 점

- **POST**는 “서버야, 새 거 만들어 줘”에 가깝고, **PUT**은 “이 주소의 리소스를 전부 이걸로 덮어씌워 줘”에 가깝다.  
- **PATCH**는 PUT과 달리 “이 주소 리소스의 특정 부분만 바꿔 줘”라는 의미로, 유연하게 부분만 수정 가능.  
- RESTful API를 설계할 때, **데이터의 생명주기**(생성, 전체 수정, 부분 수정)에 맞춰 POST/PUT/PATCH를 알맞게 선택하면 가독성과 유지보수성이 올라간다.  
- 표준 관례에 따르되, 팀/프로젝트마다 해석이 다를 수 있으므로, **API 문서**에서 명확한 규칙을 정해놓는 것이 중요.

---

### 한 줄 요약
“POST는 새 리소스 생성, PUT은 전체 업데이트(교체), PATCH는 부분 업데이트에 쓰이며, RESTful 디자인에서 각 메서드의 목적을 구분해 사용하면 API가 명확해진다.”